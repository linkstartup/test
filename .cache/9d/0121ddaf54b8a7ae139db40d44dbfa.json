{"id":"QCA+","dependencies":[{"name":"/Users/apple/Downloads/Todo_Rest_CRUD_Application_JQuery_FetchAPI-master/package.json","includedInParent":true,"mtime":1556021382752}],"generated":{"html":"<!doctype html><html lang=\"en\"><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"><link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\" integrity=\"sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO\" crossorigin><title>Todo Crud Application</title></head><body> <div class=\"container\"> <div class=\"row\"> <div class=\"col-lg-2\"></div> <div class=\"col-lg-8\"> <button class=\"btn btn-primary\" id=\"timer\">winner</button> <ul class=\"list-group\" id=\"display\"> </ul> </div> <div class=\"col-lg-2\"></div> </div> <br> <div class=\"row\"> <div class=\"col-lg-2\"></div> <div class=\"col-lg-8\"> <div class=\"alert\" role=\"alert\" id=\"message\"> </div> </div> <div class=\"col-lg-2\"></div> </div> <div class=\"row\"> <div class=\"col-lg-2\"></div> <div class=\"col-lg-8\"> <form id=\"form\"> <div class=\"form-group\" id=\"userInfo\"> <label for=\"phone\">phone +62</label> <input class=\"form-control\" id=\"phoneUserInput\" type=\"tel\" name=\"phone\" placeholder=\"81386139021\"> <label for=\"phone\">name </label> <input class=\"form-control\" id=\"nameUserInput\" type=\"text\" name=\"name\" placeholder=\"name\"> <button id=\"join\" type=\"submit\" class=\"btn btn-primary\">join</button> </div> </form> </div> <div class=\"col-lg-2\"></div> </div> <div class=\"row\" id=\"imgContainer\"></div> </div>  \n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js\"></script> <script>var e=\"\";$(document).ready(function(){var t=$(\"#display\"),n=$(\"#message\"),a=$(\"#form\"),o=$(\"#phoneUserInput\"),s=($(\"#join\"),$(\"#timer\"));n.hide();function i(e){for(var t=window.location.search.substring(1).split(\"&\"),n=0;n<t.length;n++){var a=t[n].split(\"=\");if(a[0]==e)return a[1]}return!1}var r=i(\"t\")?i(\"t\"):\"5cc849d7ec37e375be625556\";function c(){$.ajax({type:\"POST\",url:e+\"/hit\",data:JSON.stringify({t:r}),contentType:\"application/json; charset=utf-8\",crossDomain:!0,dataType:\"json\",success:function(e,n,a){e.m.length<10?(t.append(\"<div>captain \".concat(e.t,\" </div>\")),t.append(\"<div>need \".concat(10-e.m.length,\" more</div>\")),m(e)):(e.haveWinner&&s.html(e.haveWinner.memberPhone),t.append(\"<div>captain \".concat(e.t,\" </div>\")),t.append(\"<div>full</div>\"),m(e))}})}$.ajax({type:\"POST\",url:e+\"/getT\",data:JSON.stringify({t:r}),contentType:\"application/json; charset=utf-8\",crossDomain:!0,dataType:\"json\",success:function(t,n,a){for(var o=0;o<t.imgUrl.length;o++)$(\"#imgContainer\").append('<img src=\"'.concat(t.imgUrl[o],'\" alt=\"\">'));for(var s=0;s<t.videoUrl.length;s++)$(\"#imgContainer\").append('<iframe width=\"560\" height=\"315\" src=\"'.concat(t.videoUrl[s],'\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>'));var i=t.diffSecond;!function(t){if(console.log(t),t>=0){var n=moment.duration(t,\"seconds\"),a=n.months(),o=n.days(),s=n.hours(),i=n.minutes(),c=n.seconds(),m=moment({month:a,day:o,hour:s,minute:i,second:c});$(\"#timer\").html(m.format(\"HH:mm:ss\"))}else $.ajax({type:\"POST\",url:e+\"/hit\",data:JSON.stringify({t:r}),contentType:\"application/json; charset=utf-8\",crossDomain:!0,dataType:\"json\",success:function(t,n,a){t.m.length<10?$(\"#timer\").html(\"Game Over\"):$.ajax({type:\"POST\",url:e+\"/davec\",data:JSON.stringify({t:r}),contentType:\"application/json; charset=utf-8\",crossDomain:!0,dataType:\"json\",success:function(e,t,n){$(\"#timer\").html(e.memberPhone)}})}})}(i);var c=setInterval(function(){if(i--,console.log(i),i>=0){var t=moment.duration(i,\"seconds\"),n=t.months(),a=t.days(),o=t.hours(),s=t.minutes(),m=t.seconds(),l=moment({month:n,day:a,hour:o,minute:s,second:m});$(\"#timer\").html(l.format(\"HH:mm:ss\"))}else clearInterval(c),$.ajax({type:\"POST\",url:e+\"/hit\",data:JSON.stringify({t:r}),contentType:\"application/json; charset=utf-8\",crossDomain:!0,dataType:\"json\",success:function(t,n,a){t.m.length<10?$(\"#timer\").html(\"Game Over\"):$.ajax({type:\"POST\",url:e+\"/davec\",data:JSON.stringify({t:r}),contentType:\"application/json; charset=utf-8\",crossDomain:!0,dataType:\"json\",success:function(e,t,n){$(\"#timer\").html(e.memberPhone)}})}})},1e3)},error:function(e,t){console.log(e),console.log(\"fail\"+t.code)}}),c(),a.submit(function(a){var s;a.preventDefault(),s=$(\"#phoneUserInput\").val(),/^[0-9]{11}$/.test(s)&&$.ajax({type:\"POST\",url:e+\"/davet\",data:JSON.stringify({t:r,memberPhone:o.val(),memberName:$(\"#nameUserInput\").val()}),contentType:\"application/json; charset=utf-8\",crossDomain:!0,dataType:\"json\",success:function(e,a,o){var s;console.log(e),e.full?window.location.href=e.msg:(s=e.msg,n.removeClass(\"alert-danger\"),n.addClass(\"alert-success\"),n.html(s),n.show(),t.empty(),c())}})});var m=function(e){e.m.forEach(function(e){t.append('<li class=\"list-group-item\" id=\"\">\\n                            <div class=\"row\">\\n                                <div class=\"col-md-4\" id=\"\">'.concat(e.memberPhone,'</div>\\n                                <div class=\"col-md-4\">').concat(e.memberName,\"</div>\\n                            </div>\\n                       </li>\"))})}});</script>\n</body></html>"},"sourceMaps":null,"error":null,"hash":"707c2108ca9e5e9284f7740d5b017953","cacheData":{"env":{}}}