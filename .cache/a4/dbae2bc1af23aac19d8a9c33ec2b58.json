{"id":"cqp7","dependencies":[{"name":"/Users/apple/Downloads/Todo_Rest_CRUD_Application_JQuery_FetchAPI-master/package.json","includedInParent":true,"mtime":1556021382752}],"generated":{"html":"<!doctype html><html lang=\"en\"><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"><link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\" integrity=\"sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO\" crossorigin><title>Todo Crud Application</title></head><body> <div class=\"container\"> <div class=\"row\"> <div class=\"col-lg-2\"></div> <div class=\"col-lg-8\"> <ul class=\"list-group\" id=\"display\"> </ul> </div> <div class=\"col-lg-2\"></div> </div> <br> <div class=\"row\"> <div class=\"col-lg-2\"></div> <div class=\"col-lg-8\"> <div class=\"alert\" role=\"alert\" id=\"message\"> </div> </div> <div class=\"col-lg-2\"></div> </div> <div class=\"row\"> <div class=\"col-lg-2\"></div> <div class=\"col-lg-8\"> <form id=\"form\"> <div class=\"form-group\"> <label for=\"phone\">phone</label> <input type=\"text\" class=\"form-control\" id=\"phoneUserInput\" placeholder=\"phone of member\"> <button id=\"join\" type=\"submit\" class=\"btn btn-primary\">join</button> </div> </form> </div> <div class=\"col-lg-2\"></div> </div> </div>\n<div id=\"timer\"></div> <input type=\"email\" id=\"email\">\n<div id=\"result\"></div>\n<div id=\"validate\">validate</div> <label for=\"phone\">phone +62</label><input id=\"mobilephone\" type=\"tel\" name=\"phone\" placeholder=\"81386139021\">\n<div id=\"validPhone\">valid phone</div>   <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\" integrity=\"sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49\" crossorigin></script> <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\" integrity=\"sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy\" crossorigin></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js\"></script> <script>$(document).ready(function(){var n=setInterval(function(){var t=new Date(\"2019-04-27 20:48:00\"),e=parseInt((t-new Date)/1e3);if(console.log(e),e>0){var o=moment.duration(e,\"seconds\"),a=o.months(),i=o.days(),s=o.hours(),r=o.minutes(),c=o.seconds(),l=moment({month:a,day:i,hour:s,minute:r,second:c});$(\"#timer\").text(l.format(\"HH:mm:ss\"))}else clearInterval(n),$(\"#timer\").text(\"time out\")},1e3);$(\"#validate\").on(\"click\",function(){var n=$(\"#result\"),t=$(\"#email\").val();return n.text(\"\"),function(n){return/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(n)}(t)?(n.text(t+\" is valid :)\"),n.css(\"color\",\"green\")):(n.text(t+\" is not valid :(\"),n.css(\"color\",\"red\")),!1}),$(\"#validPhone\").on(\"click\",function(){var n;console.log((n=$(\"#mobilephone\").val(),/^[0-9]{11}$/.test(n)))});var t=$(\"#display\"),e=$(\"#message\"),o=$(\"#form\"),a=$(\"#phoneUserInput\"),i=$(\"#join\");e.hide();var s=function(n){for(var t=window.location.search.substring(1).split(\"&\"),e=0;e<t.length;e++){var o=t[e].split(\"=\");if(o[0]==n)return o[1]}return!1}(\"t\");o.submit(function(n){n.preventDefault(),fetch(\"/joinTuan\",{method:\"post\",body:JSON.stringify({t:s,memberPhone:a.val()}),headers:{\"Content-Type\":\"application/json; charset=utf-8\"}}).then(function(n){return n.json()}).then(function(n){var o,a;n.full?window.location.href=n.msg:(o=!0,a=n.msg,o?(e.removeClass(\"alert-danger\"),e.addClass(\"alert-success\"),e.html(a),e.show()):(e.removeClass(\"alert-success\"),e.addClass(\"alert-danger\"),e.html(a),e.show()),t.empty(),r())})});var r=function(){fetch(\"/tuan\",{method:\"post\",body:JSON.stringify({t:s}),headers:{\"Content-Type\":\"application/json; charset=utf-8\"}}).then(function(n){return n.json()}).then(function(n){n.m.length<10?(t.append(\"<div>captain \".concat(n.t,\" </div>\")),t.append(\"<div>need \".concat(10-n.m.length,\" more</div>\")),c(n)):(n.haveWinner?t.append('<button class=\"btn btn-primary\">'.concat(n.haveWinner.memberPhone,\"</button>\")):t.append('<button id=\"choujiang\" class=\"btn btn-primary\">choujiang</button>'),t.append(\"<div>captain \".concat(n.t,\" </div>\")),t.append(\"<div>full</div>\"),i.html(\"join new\"),c(n),$(\"#choujiang\").click(function(){fetch(\"/choujiangBtn\",{method:\"post\",body:JSON.stringify({t:s}),headers:{\"Content-Type\":\"application/json; charset=utf-8\"}}).then(function(n){return n.json()}).then(function(n){$(\"#choujiang\").html(n.memberPhone),console.log(n)})}))})};r();var c=function(n){n.m.forEach(function(n){t.append(function(n,t){return'<li class=\"list-group-item\" id=\"\">\\n                            <div class=\"row\">\\n                                <div class=\"col-md-4\" id=\"\">'.concat(n.memberPhone,'</div>\\n                                <div class=\"col-md-4\"></div>\\n                            </div>\\n                       </li>')}(n))})}});</script>\n</body></html>"},"sourceMaps":null,"error":null,"hash":"219eac6bc6d9dc42011c83a765c7e273","cacheData":{"env":{}}}